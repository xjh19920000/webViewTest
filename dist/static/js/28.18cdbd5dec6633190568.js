webpackJsonp([28],{"d+mh":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),o={name:"ImportMnemonics",components:{"deal-password":a("Z175").a},data:function(){return{memorizingWords:"half twist zero bronze brush rule dust later easy buzz parade nation",money:"",importFail:!1,password:"",dealPasswordAgain:""}},methods:{creatWallet:function(){if(""!=this.password)if(""!=this.dealPasswordAgain)if(this.dealPasswordAgain==this.password){var e=this,t=e.$layer.open({type:2,content:"导入中..."}),a={},s=[],o="",r="";12==e.memorizingWords.split(" ").length?lightwallet.keystore.createVault({password:e.dealPasswordAgain,seedPhrase:e.memorizingWords,hdPathString:"m/44'/60'/0'/0"},function(l,n){n.keyFromPassword(e.dealPasswordAgain,function(l,d){if(e.$layer.close(t),l)e.importFail=!0;else{if(n.generateNewAddress(d,1),o=n.getAddresses()[0],r=n.exportPrivateKey(o,d),console.log("地址:",o),console.log("私钥:",r),localStorage.getItem("walletArr")&&(s=JSON.parse(localStorage.getItem("walletArr"))).length>0)for(var c in s)if(s[c].secretSeed==e.memorizingWords)return void e.$layer.open({content:"钱包已存在!!!",skin:"msg",time:2});""==localStorage.getItem("walletArr")||"undefined"==localStorage.getItem("walletArr")||null==localStorage.getItem("walletArr")?(a={walletName:"HD-新钱包",secretSeed:e.memorizingWords,address:o,privateKey:r,pwd:e.dealPasswordAgain,isUse:!0},localStorage.setItem("chooseWallet",i()(a))):a={walletName:"HD-新钱包",secretSeed:e.memorizingWords,address:o,privateKey:r,pwd:e.dealPasswordAgain,isUse:!1},s.push(a),localStorage.setItem("walletArr",i()(s)),e.$router.push("/importSuccess")}})}):e.$layer.open({content:"助记词格式输入错误或不是12个单词",skin:"msg",time:2})}else this.$layer.open({content:"两次密码输入不一致",skin:"msg",time:2});else this.$layer.open({content:"请确认交易密码",skin:"msg",time:2});else this.$layer.open({content:"请输入交易密码",skin:"msg",time:2})},importWallet:function(){this.creatWallet()},importAgain:function(){this.importFail=!1},goCreatWallet:function(){this.$router.push("/creatWallet")}},computed:{},watch:{dealPasswordAgain:function(e,t){6==e.length&&e!=this.password&&(this.$layer.open({content:"两次密码输入不一致",skin:"msg",time:2}),this.dealPasswordAgain="")}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"import-mnemonics"},[a("div",{staticStyle:{margin:"40px","text-align":"center"}},[a("p",{staticStyle:{"font-size":"16px",margin:"30px 0"}},[e._v("验证你的钱包助记词")]),e._v(" "),a("p",{staticStyle:{height:"20px","font-size":"12px",color:"#a5a5a5","text-align":"center"}},[e._v("请输入备份的钱包助记词(12个英文单词)，按空格分离")]),e._v(" "),a("div",{staticStyle:{background:"white"}},[a("mu-text-field",{staticStyle:{padding:"10px",border:"1px solid #e5e5e5"},attrs:{"multi-line":"",solo:!0,rows:6,"full-width":""},model:{value:e.memorizingWords,callback:function(t){e.memorizingWords=t},expression:"memorizingWords"}}),a("br")],1),e._v(" "),a("p",{staticStyle:{color:"#b5b5b5","margin-top":"20px","text-align":"left"}},[e._v("设置交易密码")]),e._v(" "),a("deal-password",{model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("p",{staticStyle:{color:"#b5b5b5","margin-top":"20px","text-align":"left"}},[e._v("确认交易密码")]),e._v(" "),a("deal-password",{model:{value:e.dealPasswordAgain,callback:function(t){e.dealPasswordAgain=t},expression:"dealPasswordAgain"}}),e._v(" "),a("mu-button",{staticClass:"creatBtn",staticStyle:{width:"100%","margin-top":"40px",height:"44px"},attrs:{color:"#295DF1"},on:{click:e.importWallet}},[e._v("导入钱包")])],1),e._v(" "),e.importFail?a("div",{staticClass:"white_content"},[a("div",{staticStyle:{height:"100px","text-align":"center","line-height":"100px"}},[e._v("\n\t\t\t导入失败,是否返回创建钱包\n\t\t")]),e._v(" "),a("div",{staticClass:"btn"},[a("div",{staticClass:"btn-cancel",on:{click:function(t){e.importAgain()}}},[e._v("重新导入")]),e._v(" "),a("div",{staticClass:"btn-sure",on:{click:function(t){e.goCreatWallet()}}},[e._v("创建钱包")])])]):e._e(),e._v(" "),e.importFail?a("div",{staticClass:"black_overlay"}):e._e()])},staticRenderFns:[]};var l=a("VU/8")(o,r,!1,function(e){a("uVFi")},"data-v-012dc089",null);t.default=l.exports},uVFi:function(e,t){}});
//# sourceMappingURL=28.18cdbd5dec6633190568.js.map