webpackJsonp([16],{P1BY:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Gu7T"),o=i.n(a),s=null,l={name:"HomeDetails",data:function(){return{page:1,recordList:[],loading:!1,refreshing:!1,loadAll:!1,balance:0,totalMoney:0,title:""}},methods:{goTransferAccounts:function(){this.$router.push("/transferAccounts")},goReceivables:function(){},getRecord:function(){var t=this,e=this;e.$http.get(e.$lib.url+"wallet/assets?coins_type="+e.$store.state.coinType+"&wallet_id="+localStorage.getItem("walletId")+"&page="+e.page).then(function(i){if(console.log(i),0==i.status){e.refreshing=!1;var a=i.data.data;for(var s in e.recordList=[].concat(o()(t.recordList),o()(a)),e.recordList)for(var l in e.$lib.coinsList)e.recordList[s].type==l&&(e.recordList[s].typeName=e.$lib.coinsList[l]);if(a.length<10)return e.loading=!1,void(e.loadAll=!0)}}).catch(function(t){})},geyWalletInfo:function(){var t=this,e=this,i={id:localStorage.getItem("walletId")};e.$http.post(e.$lib.url+"wallet/info",e.$qs.stringify(i)).then(function(i){if(console.log(i),0==i.status){e.walletInfo=i.data,e.walletCoinsList=i.data.walletInfo;for(var a=0;a<e.walletCoinsList.length;a++)t.title==e.walletCoinsList[a].name&&(e.balance=e.walletCoinsList[a].count)}}).catch(function(t){})},refresh:function(){var t=this;this.refreshing=!0,this.loadAll=!1,this.$refs.container.scrollTop=0,setTimeout(function(){t.page=1,t.recordList=[],t.getRecord()},1e3)},load:function(){var t=this;this.loading=!0,this.page++,setTimeout(function(){t.loading=!1,t.getRecord()},1e3)}},computed:{scrollHeight:function(){return"height:"+(window.screen.height-56)+"px"}},mounted:function(){this.title=this.$store.state.homeDetailsTitle,this.chooseWallet=JSON.parse(localStorage.getItem("chooseWallet")),s=new Web3(new Web3.providers.HttpProvider("https://mainnet.infura.io/v3/b7f93674854b43fea9d265249ba24c2d")),this.balance=s.eth.getBalance(this.chooseWallet.address)},watch:{$route:function(t,e){"/homeDetails"!=t.path||"/home"!=e.path&&"/transferAccounts"!=e.path||(this.balance=Number(this.$store.state.balance),this.totalMoney=this.balance*Number(this.$store.state.rate),this.title=this.$store.state.homeDetailsTitle,this.page=1,this.recordList=[],this.getRecord())}},created:function(){}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"HomeDetails"},[i("div",{ref:"container",staticClass:"content",style:t.scrollHeight},[i("div",{staticClass:"home-header"},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle","text-align":"center"}},[i("h2",{staticStyle:{color:"#B9862F",margin:"0"}},[t._v(t._s(t.balance.toFixed(6))+" "+t._s(t.title))])])]),t._v(" "),i("div",{staticStyle:{"padding-left":"20px",height:"30px",background:"#f5f5f5","line-height":"30px"}},[t._v("\n\t\t\t交易记录\n\t\t")]),t._v(" "),i("div",{staticStyle:{"margin-bottom":"60px"}},[i("mu-load-more",{attrs:{"loaded-all":t.loadAll,refreshing:t.refreshing,loading:t.loading},on:{refresh:t.refresh,load:t.load}},t._l(t.recordList,function(e,a){return i("div",{key:a,staticStyle:{padding:"10px 20px","border-bottom":"1px solid #e5e5e5","padding-bottom":"8px",background:"white"}},[i("p",[t._v("时间 ："+t._s(e.created)),0==e.status?i("span",{staticStyle:{float:"right",color:"#6A8DC2"}},[t._v("待审核")]):t._e(),t._v(" "),1==e.status?i("span",{staticStyle:{float:"right",color:"#E3C99B"}},[t._v("已成功")]):t._e(),t._v(" "),2==e.status?i("span",{staticStyle:{float:"right",color:"red"}},[t._v("已失败")]):t._e()]),t._v(" "),i("p",{staticClass:"margin-top-8"},[t._v("类型 ："+t._s(e.type)+" ")]),t._v(" "),i("p",{staticClass:"margin-top-8"},[t._v("数量 ："),Number(e.num)<0?i("span",{staticStyle:{color:"red"}},[t._v(t._s(Number(e.num).toFixed(2)))]):t._e(),t._v(" "),Number(e.num)>0?i("span",{staticStyle:{color:"green"}},[t._v(t._s(Number(e.num).toFixed(2)))]):t._e()])])}),0),t._v(" "),0==t.recordList.length?i("p",{staticStyle:{"text-align":"center"}},[t._v("暂无数据...")]):t._e(),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.page>1&&t.loadAll,expression:"page>1&&loadAll"}],staticStyle:{"text-align":"center"}},[t._v("没有更多数据啦~~")])],1)]),t._v(" "),i("mu-container",{staticStyle:{display:"flex",position:"fixed","z-index":"100",bottom:"0px",padding:"0",height:"55px"}},[i("mu-button",{staticStyle:{"border-radius":"0",width:"50%",height:"55px"},attrs:{color:"#295DF1"},on:{click:t.goTransferAccounts}},[t._v("转账")]),t._v(" "),i("mu-button",{staticStyle:{background:"white",border:"1px solid #295DF1","border-radius":"0",width:"50%",height:"55px"},attrs:{flat:"",color:"#295DF1"},on:{click:t.goReceivables}},[t._v("收款")])],1)],1)},staticRenderFns:[]};var r=i("VU/8")(l,n,!1,function(t){i("VCLN")},"data-v-5aa0bfac",null);e.default=r.exports},VCLN:function(t,e){}});
//# sourceMappingURL=16.3bc7be17a7b5a3b6dfa6.js.map